# ContractTool

1.vscl简介

voc主链合约语言为VSCL（VOC  Smart  Contract Language）是一门面向合约的、为实现智能合约而创建的高级编程语言。这门语言受到了 C++，Python 和 Javascript 语言的影响，设计的目的是能在VOC虚拟机（VVM）上运行。

Vscl 是静态类型语言，支持继承、库和复杂的用户定义类型等特性。

2.合约开发工具：

目前尝试 Vscl 编程的最好的方式是使用 [vscode](https://code.visualstudio.com/)+[vscl](https://github.com/vocchain/ContractTool/blob/master/vscl-0.0.12.vsix)扩展插件

插件下载链接：

![vscl](https://github.com/vocchain/ContractTool/blob/master/vscl.png)



2.合约编辑

![example](https://github.com/vocchain/ContractTool/blob/master/example.png)

示例代码：

```json
pragma vscl ^0.4.21;


contract TokenVRC03 {
    string public name;
    string public symbol;
    uint public decimals = 18; 
    uint public totalSupply;
    mapping (address => uint) public balances;

    event Sent(address from, address to, uint amount);

    function TokenVRC03(uint initialSupply, string tokenName, string tokenSymbol,uint decimal){
          decimals=decimal;
        totalSupply = initialSupply * 10 ** uint(decimals);
        balances[msg.sender] = totalSupply;
        name = tokenName;
        symbol = tokenSymbol;
    }
    
 function transfer(address receiver, uint amount) public {
        if (balances[msg.sender] < amount) return ;
        balances[msg.sender] -= amount;
        balances[receiver] += amount;
        emit Sent(msg.sender, receiver, amount);
    }
}
```

3.合约编译

合约编译使用vscl合约编译工具volc 

下载链接：https://github.com/vocchain/ContractTool/blob/master/volc.zip

```
 # 1.windows
./vocl.exe vrc03.vol
# 编译将生成两个文件
VRC03Token.bin   //合约二进制代码（部署合约的code）
VRC03Token.abi   //合约二进制接口文件

# 2. linux
./vocl vrc03.vol
# 编译将生成两个文件
VRC03Token.bin   //合约二进制代码（部署合约的code）
VRC03Token.abi   //合约二进制接口文件
```

4. 合约部署

合约部署需要使用voc-cli, 请使用`voc-cli -h`查看使用帮助

下载链接：

linux:https://github.com/vocchain/ContractTool/blob/master/voc-cli

windows:https://github.com/vocchain/ContractTool/blob/master/voc-cli_windows.zip

```
 .\voc-cli.exe

      USAGE
      voc-cli COMMAND [ARGMENTS] [OPTIONS]

      [COMMAND]
      import   import voc privkey    //导入私钥
      contract create or call smart contract   //创建或调用合约
      vrc03   creaate or send vrc03 tokens   //开发中
      help    show more infomation for command

      [OPTION]
      -h help
```



```
1 windos部署：
1.导入需要部署合约的账号
voc-cli.exe   import VOC2bZcHrZXXXXXXXUP     password
2.vrc03 代币参数
./voc-cli.exe vrc03 args -s 代币缩写  -n  代币全称  -d  代币精度   -t  总量
示例： .\voc-cli.exe vrc03 args -s BTC  -n bitcoin -d 18 -t 21000000
得到args：
0000000000000000000000000000000000000000000000000000000001406f40000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000007626974636f696e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034254430000000000000000000000000000000000000000000000000000000000 
3.部署合约
./voc-cli.exe   contract create -c 合约code（编译生成的bin，或直接使用标准code）  -a  合约参数（第二步生成的args） -n 合约名称（同代币缩写） --account 你的账号（您用来发行代币的账号）

注意事项：
如果是vrc03标准合约，code可以直接使用如下code：
60606040526012600255341561001457600080fd5b60405161052138038061052183398101604052808051919060200180518201919060200180518201919060200180516002819055600a81900a86026003819055600160a060020a03331660009081526004602052604081209190915590925090508380516100869291602001906100a4565b50600182805161009a9291602001906100a4565b505050505061013f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100e557805160ff1916838001178555610112565b82800160010185558215610112579182015b828111156101125782518255916020019190600101906100f7565b5061011e929150610122565b5090565b61013c91905b8082111561011e5760008155600101610128565b90565b6103d38061014e6000396000f3006060604052600436106100775763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde03811461007c57806318160ddd1461010657806327e235e31461012b578063313ce5671461015757806395d89b411461016a578063a9059cbb1461017d575b600080fd5b341561008757600080fd5b61008f6101ae565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156100cb5780820151838201526020016100b3565b50505050905090810190601f1680156100f85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561011157600080fd5b61011961024c565b60405190815260200160405180910390f35b341561013657600080fd5b61011973ffffffffffffffffffffffffffffffffffffffff60043516610252565b341561016257600080fd5b610119610264565b341561017557600080fd5b61008f61026a565b341561018857600080fd5b6101ac73ffffffffffffffffffffffffffffffffffffffff600435166024356102d5565b005b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102445780601f1061021957610100808354040283529160200191610244565b820191906000526020600020905b81548152906001019060200180831161022757829003601f168201915b505050505081565b60035481565b60046020526000908152604090205481565b60025481565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102445780601f1061021957610100808354040283529160200191610244565b73ffffffffffffffffffffffffffffffffffffffff331660009081526004602052604090205481901015610308576103a3565b73ffffffffffffffffffffffffffffffffffffffff338181166000908152600460205260408082208054869003905592851681528290208054840190557f3990db2d31862302a685e8086b5755072a6e2b5b780af1ee81ece35ee3cd334591849084905173ffffffffffffffffffffffffffffffffffffffff9384168152919092166020820152604080820192909252606001905180910390a15b50505600a165627a7a723058205b6195ace40650667fb8ae93959606a8342b4bf355752fd63cc642645d1fbec70029

2 linux
1.导入需要部署合约的账号
voc-cli  import VOC2bZcHrZXXXXXXXUP     password
2.vrc03 代币参数
./voc-cli vrc03 args -s 代币缩写  -n  代币全称  -d  代币精度   -t  总量
示例： ./voc-cli vrc03 args -s BTC  -n bitcoin -d 18 -t 21000000
得到args：
0000000000000000000000000000000000000000000000000000000001406f40000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000007626974636f696e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034254430000000000000000000000000000000000000000000000000000000000
3.部署合约
./voc-cli   contract create -c 合约code（编译生成的bin，或直接使用标准code）  -a  合约参数（第二步生成的args） -n 合约名称（同代币缩写） --account 你的账号（您用来发行代币的账号）



注意事项：
如果是vrc03标准合约，code可以直接使用如下code：
60606040526012600255341561001457600080fd5b60405161052138038061052183398101604052808051919060200180518201919060200180518201919060200180516002819055600a81900a86026003819055600160a060020a03331660009081526004602052604081209190915590925090508380516100869291602001906100a4565b50600182805161009a9291602001906100a4565b505050505061013f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100e557805160ff1916838001178555610112565b82800160010185558215610112579182015b828111156101125782518255916020019190600101906100f7565b5061011e929150610122565b5090565b61013c91905b8082111561011e5760008155600101610128565b90565b6103d38061014e6000396000f3006060604052600436106100775763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde03811461007c57806318160ddd1461010657806327e235e31461012b578063313ce5671461015757806395d89b411461016a578063a9059cbb1461017d575b600080fd5b341561008757600080fd5b61008f6101ae565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156100cb5780820151838201526020016100b3565b50505050905090810190601f1680156100f85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561011157600080fd5b61011961024c565b60405190815260200160405180910390f35b341561013657600080fd5b61011973ffffffffffffffffffffffffffffffffffffffff60043516610252565b341561016257600080fd5b610119610264565b341561017557600080fd5b61008f61026a565b341561018857600080fd5b6101ac73ffffffffffffffffffffffffffffffffffffffff600435166024356102d5565b005b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102445780601f1061021957610100808354040283529160200191610244565b820191906000526020600020905b81548152906001019060200180831161022757829003601f168201915b505050505081565b60035481565b60046020526000908152604090205481565b60025481565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102445780601f1061021957610100808354040283529160200191610244565b73ffffffffffffffffffffffffffffffffffffffff331660009081526004602052604090205481901015610308576103a3565b73ffffffffffffffffffffffffffffffffffffffff338181166000908152600460205260408082208054869003905592851681528290208054840190557f3990db2d31862302a685e8086b5755072a6e2b5b780af1ee81ece35ee3cd334591849084905173ffffffffffffffffffffffffffffffffffffffff9384168152919092166020820152604080820192909252606001905180910390a15b50505600a165627a7a723058205b6195ace40650667fb8ae93959606a8342b4bf355752fd63cc642645d1fbec70029

```

